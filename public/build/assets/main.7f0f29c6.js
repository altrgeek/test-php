import{g as Rn}from"./_commonjsHelpers.b8add541.js";var An={exports:{}},ye={exports:{}},Ln=function(a,s){return function(){for(var o=new Array(arguments.length),l=0;l<o.length;l++)o[l]=arguments[l];return a.apply(s,o)}},Wo=Ln,ge=Object.prototype.toString,me=function(u){return function(a){var s=ge.call(a);return u[s]||(u[s]=s.slice(8,-1).toLowerCase())}}(Object.create(null));function ht(u){return u=u.toLowerCase(),function(s){return me(s)===u}}function _e(u){return Array.isArray(u)}function Rt(u){return typeof u>"u"}function Vo(u){return u!==null&&!Rt(u)&&u.constructor!==null&&!Rt(u.constructor)&&typeof u.constructor.isBuffer=="function"&&u.constructor.isBuffer(u)}var In=ht("ArrayBuffer");function Qo(u){var a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(u):a=u&&u.buffer&&In(u.buffer),a}function Go(u){return typeof u=="string"}function Ko(u){return typeof u=="number"}function jn(u){return u!==null&&typeof u=="object"}function Ot(u){if(me(u)!=="object")return!1;var a=Object.getPrototypeOf(u);return a===null||a===Object.prototype}var Yo=ht("Date"),Zo=ht("File"),ts=ht("Blob"),es=ht("FileList");function be(u){return ge.call(u)==="[object Function]"}function ns(u){return jn(u)&&be(u.pipe)}function rs(u){var a="[object FormData]";return u&&(typeof FormData=="function"&&u instanceof FormData||ge.call(u)===a||be(u.toString)&&u.toString()===a)}var is=ht("URLSearchParams");function os(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function ss(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function we(u,a){if(!(u===null||typeof u>"u"))if(typeof u!="object"&&(u=[u]),_e(u))for(var s=0,h=u.length;s<h;s++)a.call(null,u[s],s,u);else for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&a.call(null,u[o],o,u)}function fe(){var u={};function a(o,l){Ot(u[l])&&Ot(o)?u[l]=fe(u[l],o):Ot(o)?u[l]=fe({},o):_e(o)?u[l]=o.slice():u[l]=o}for(var s=0,h=arguments.length;s<h;s++)we(arguments[s],a);return u}function as(u,a,s){return we(a,function(o,l){s&&typeof o=="function"?u[l]=Wo(o,s):u[l]=o}),u}function us(u){return u.charCodeAt(0)===65279&&(u=u.slice(1)),u}function cs(u,a,s,h){u.prototype=Object.create(a.prototype,h),u.prototype.constructor=u,s&&Object.assign(u.prototype,s)}function hs(u,a,s){var h,o,l,f={};a=a||{};do{for(h=Object.getOwnPropertyNames(u),o=h.length;o-- >0;)l=h[o],f[l]||(a[l]=u[l],f[l]=!0);u=Object.getPrototypeOf(u)}while(u&&(!s||s(u,a))&&u!==Object.prototype);return a}function ls(u,a,s){u=String(u),(s===void 0||s>u.length)&&(s=u.length),s-=a.length;var h=u.indexOf(a,s);return h!==-1&&h===s}function fs(u){if(!u)return null;var a=u.length;if(Rt(a))return null;for(var s=new Array(a);a-- >0;)s[a]=u[a];return s}var ps=function(u){return function(a){return u&&a instanceof u}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),U={isArray:_e,isArrayBuffer:In,isBuffer:Vo,isFormData:rs,isArrayBufferView:Qo,isString:Go,isNumber:Ko,isObject:jn,isPlainObject:Ot,isUndefined:Rt,isDate:Yo,isFile:Zo,isBlob:ts,isFunction:be,isStream:ns,isURLSearchParams:is,isStandardBrowserEnv:ss,forEach:we,merge:fe,extend:as,trim:os,stripBOM:us,inherits:cs,toFlatObject:hs,kindOf:me,kindOfTest:ht,endsWith:ls,toArray:fs,isTypedArray:ps,isFileList:es},pt=U;function nn(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Nn=function(a,s,h){if(!s)return a;var o;if(h)o=h(s);else if(pt.isURLSearchParams(s))o=s.toString();else{var l=[];pt.forEach(s,function(v,x){v===null||typeof v>"u"||(pt.isArray(v)?x=x+"[]":v=[v],pt.forEach(v,function(T){pt.isDate(T)?T=T.toISOString():pt.isObject(T)&&(T=JSON.stringify(T)),l.push(nn(x)+"="+nn(T))}))}),o=l.join("&")}if(o){var f=a.indexOf("#");f!==-1&&(a=a.slice(0,f)),a+=(a.indexOf("?")===-1?"?":"&")+o}return a},ds=U;function It(){this.handlers=[]}It.prototype.use=function(a,s,h){return this.handlers.push({fulfilled:a,rejected:s,synchronous:h?h.synchronous:!1,runWhen:h?h.runWhen:null}),this.handlers.length-1};It.prototype.eject=function(a){this.handlers[a]&&(this.handlers[a]=null)};It.prototype.forEach=function(a){ds.forEach(this.handlers,function(h){h!==null&&a(h)})};var vs=It,ys=U,gs=function(a,s){ys.forEach(a,function(o,l){l!==s&&l.toUpperCase()===s.toUpperCase()&&(a[s]=o,delete a[l])})},Un=U;function vt(u,a,s,h,o){Error.call(this),this.message=u,this.name="AxiosError",a&&(this.code=a),s&&(this.config=s),h&&(this.request=h),o&&(this.response=o)}Un.inherits(vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var qn=vt.prototype,Dn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(u){Dn[u]={value:u}});Object.defineProperties(vt,Dn);Object.defineProperty(qn,"isAxiosError",{value:!0});vt.from=function(u,a,s,h,o,l){var f=Object.create(qn);return Un.toFlatObject(u,f,function(v){return v!==Error.prototype}),vt.call(f,u.message,a,s,h,o),f.name=u.name,l&&Object.assign(f,l),f};var gt=vt,Hn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Z=U;function ms(u,a){a=a||new FormData;var s=[];function h(l){return l===null?"":Z.isDate(l)?l.toISOString():Z.isArrayBuffer(l)||Z.isTypedArray(l)?typeof Blob=="function"?new Blob([l]):Buffer.from(l):l}function o(l,f){if(Z.isPlainObject(l)||Z.isArray(l)){if(s.indexOf(l)!==-1)throw Error("Circular reference detected in "+f);s.push(l),Z.forEach(l,function(v,x){if(!Z.isUndefined(v)){var S=f?f+"."+x:x,T;if(v&&!f&&typeof v=="object"){if(Z.endsWith(x,"{}"))v=JSON.stringify(v);else if(Z.endsWith(x,"[]")&&(T=Z.toArray(v))){T.forEach(function(d){!Z.isUndefined(d)&&a.append(S,h(d))});return}}o(v,S)}}),s.pop()}else a.append(f,h(l))}return o(u),a}var Bn=ms,Kt,rn;function _s(){if(rn)return Kt;rn=1;var u=gt;return Kt=function(s,h,o){var l=o.config.validateStatus;!o.status||!l||l(o.status)?s(o):h(new u("Request failed with status code "+o.status,[u.ERR_BAD_REQUEST,u.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))},Kt}var Yt,on;function bs(){if(on)return Yt;on=1;var u=U;return Yt=u.isStandardBrowserEnv()?function(){return{write:function(h,o,l,f,y,v){var x=[];x.push(h+"="+encodeURIComponent(o)),u.isNumber(l)&&x.push("expires="+new Date(l).toGMTString()),u.isString(f)&&x.push("path="+f),u.isString(y)&&x.push("domain="+y),v===!0&&x.push("secure"),document.cookie=x.join("; ")},read:function(h){var o=document.cookie.match(new RegExp("(^|;\\s*)("+h+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(h){this.write(h,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Yt}var ws=function(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)},Ss=function(a,s){return s?a.replace(/\/+$/,"")+"/"+s.replace(/^\/+/,""):a},Cs=ws,ks=Ss,Fn=function(a,s){return a&&!Cs(s)?ks(a,s):s},Zt,sn;function Ts(){if(sn)return Zt;sn=1;var u=U,a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Zt=function(h){var o={},l,f,y;return h&&u.forEach(h.split(`
`),function(x){if(y=x.indexOf(":"),l=u.trim(x.substr(0,y)).toLowerCase(),f=u.trim(x.substr(y+1)),l){if(o[l]&&a.indexOf(l)>=0)return;l==="set-cookie"?o[l]=(o[l]?o[l]:[]).concat([f]):o[l]=o[l]?o[l]+", "+f:f}}),o},Zt}var te,an;function Ps(){if(an)return te;an=1;var u=U;return te=u.isStandardBrowserEnv()?function(){var s=/(msie|trident)/i.test(navigator.userAgent),h=document.createElement("a"),o;function l(f){var y=f;return s&&(h.setAttribute("href",y),y=h.href),h.setAttribute("href",y),{href:h.href,protocol:h.protocol?h.protocol.replace(/:$/,""):"",host:h.host,search:h.search?h.search.replace(/^\?/,""):"",hash:h.hash?h.hash.replace(/^#/,""):"",hostname:h.hostname,port:h.port,pathname:h.pathname.charAt(0)==="/"?h.pathname:"/"+h.pathname}}return o=l(window.location.href),function(y){var v=u.isString(y)?l(y):y;return v.protocol===o.protocol&&v.host===o.host}}():function(){return function(){return!0}}(),te}var ee,un;function jt(){if(un)return ee;un=1;var u=gt,a=U;function s(h){u.call(this,h==null?"canceled":h,u.ERR_CANCELED),this.name="CanceledError"}return a.inherits(s,u,{__CANCEL__:!0}),ee=s,ee}var ne,cn;function Es(){return cn||(cn=1,ne=function(a){var s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return s&&s[1]||""}),ne}var re,hn;function ln(){if(hn)return re;hn=1;var u=U,a=_s(),s=bs(),h=Nn,o=Fn,l=Ts(),f=Ps(),y=Hn,v=gt,x=jt(),S=Es();return re=function(d){return new Promise(function(L,k){var g=d.data,_=d.headers,E=d.responseType,A;function j(){d.cancelToken&&d.cancelToken.unsubscribe(A),d.signal&&d.signal.removeEventListener("abort",A)}u.isFormData(g)&&u.isStandardBrowserEnv()&&delete _["Content-Type"];var w=new XMLHttpRequest;if(d.auth){var J=d.auth.username||"",Y=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";_.Authorization="Basic "+btoa(J+":"+Y)}var F=o(d.baseURL,d.url);w.open(d.method.toUpperCase(),h(F,d.params,d.paramsSerializer),!0),w.timeout=d.timeout;function M(){if(!!w){var W="getAllResponseHeaders"in w?l(w.getAllResponseHeaders()):null,rt=!E||E==="text"||E==="json"?w.responseText:w.response,V={data:rt,status:w.status,statusText:w.statusText,headers:W,config:d,request:w};a(function(_t){L(_t),j()},function(_t){k(_t),j()},V),w=null}}if("onloadend"in w?w.onloadend=M:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(M)},w.onabort=function(){!w||(k(new v("Request aborted",v.ECONNABORTED,d,w)),w=null)},w.onerror=function(){k(new v("Network Error",v.ERR_NETWORK,d,w,w)),w=null},w.ontimeout=function(){var rt=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",V=d.transitional||y;d.timeoutErrorMessage&&(rt=d.timeoutErrorMessage),k(new v(rt,V.clarifyTimeoutError?v.ETIMEDOUT:v.ECONNABORTED,d,w)),w=null},u.isStandardBrowserEnv()){var $=(d.withCredentials||f(F))&&d.xsrfCookieName?s.read(d.xsrfCookieName):void 0;$&&(_[d.xsrfHeaderName]=$)}"setRequestHeader"in w&&u.forEach(_,function(rt,V){typeof g>"u"&&V.toLowerCase()==="content-type"?delete _[V]:w.setRequestHeader(V,rt)}),u.isUndefined(d.withCredentials)||(w.withCredentials=!!d.withCredentials),E&&E!=="json"&&(w.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&w.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(A=function(W){!w||(k(!W||W&&W.type?new x:W),w.abort(),w=null)},d.cancelToken&&d.cancelToken.subscribe(A),d.signal&&(d.signal.aborted?A():d.signal.addEventListener("abort",A))),g||(g=null);var mt=S(F);if(mt&&["http","https","file"].indexOf(mt)===-1){k(new v("Unsupported protocol "+mt+":",v.ERR_BAD_REQUEST,d));return}w.send(g)})},re}var ie,fn;function Os(){return fn||(fn=1,ie=null),ie}var N=U,pn=gs,dn=gt,xs=Hn,Rs=Bn,As={"Content-Type":"application/x-www-form-urlencoded"};function vn(u,a){!N.isUndefined(u)&&N.isUndefined(u["Content-Type"])&&(u["Content-Type"]=a)}function Ls(){var u;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(u=ln()),u}function Is(u,a,s){if(N.isString(u))try{return(a||JSON.parse)(u),N.trim(u)}catch(h){if(h.name!=="SyntaxError")throw h}return(s||JSON.stringify)(u)}var Nt={transitional:xs,adapter:Ls(),transformRequest:[function(a,s){if(pn(s,"Accept"),pn(s,"Content-Type"),N.isFormData(a)||N.isArrayBuffer(a)||N.isBuffer(a)||N.isStream(a)||N.isFile(a)||N.isBlob(a))return a;if(N.isArrayBufferView(a))return a.buffer;if(N.isURLSearchParams(a))return vn(s,"application/x-www-form-urlencoded;charset=utf-8"),a.toString();var h=N.isObject(a),o=s&&s["Content-Type"],l;if((l=N.isFileList(a))||h&&o==="multipart/form-data"){var f=this.env&&this.env.FormData;return Rs(l?{"files[]":a}:a,f&&new f)}else if(h||o==="application/json")return vn(s,"application/json"),Is(a);return a}],transformResponse:[function(a){var s=this.transitional||Nt.transitional,h=s&&s.silentJSONParsing,o=s&&s.forcedJSONParsing,l=!h&&this.responseType==="json";if(l||o&&N.isString(a)&&a.length)try{return JSON.parse(a)}catch(f){if(l)throw f.name==="SyntaxError"?dn.from(f,dn.ERR_BAD_RESPONSE,this,null,this.response):f}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Os()},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};N.forEach(["delete","get","head"],function(a){Nt.headers[a]={}});N.forEach(["post","put","patch"],function(a){Nt.headers[a]=N.merge(As)});var Se=Nt,js=U,Ns=Se,Us=function(a,s,h){var o=this||Ns;return js.forEach(h,function(f){a=f.call(o,a,s)}),a},oe,yn;function Mn(){return yn||(yn=1,oe=function(a){return!!(a&&a.__CANCEL__)}),oe}var gn=U,se=Us,qs=Mn(),Ds=Se,Hs=jt();function ae(u){if(u.cancelToken&&u.cancelToken.throwIfRequested(),u.signal&&u.signal.aborted)throw new Hs}var Bs=function(a){ae(a),a.headers=a.headers||{},a.data=se.call(a,a.data,a.headers,a.transformRequest),a.headers=gn.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),gn.forEach(["delete","get","head","post","put","patch","common"],function(o){delete a.headers[o]});var s=a.adapter||Ds.adapter;return s(a).then(function(o){return ae(a),o.data=se.call(a,o.data,o.headers,a.transformResponse),o},function(o){return qs(o)||(ae(a),o&&o.response&&(o.response.data=se.call(a,o.response.data,o.response.headers,a.transformResponse))),Promise.reject(o)})},Q=U,zn=function(a,s){s=s||{};var h={};function o(S,T){return Q.isPlainObject(S)&&Q.isPlainObject(T)?Q.merge(S,T):Q.isPlainObject(T)?Q.merge({},T):Q.isArray(T)?T.slice():T}function l(S){if(Q.isUndefined(s[S])){if(!Q.isUndefined(a[S]))return o(void 0,a[S])}else return o(a[S],s[S])}function f(S){if(!Q.isUndefined(s[S]))return o(void 0,s[S])}function y(S){if(Q.isUndefined(s[S])){if(!Q.isUndefined(a[S]))return o(void 0,a[S])}else return o(void 0,s[S])}function v(S){if(S in s)return o(a[S],s[S]);if(S in a)return o(void 0,a[S])}var x={url:f,method:f,data:f,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:v};return Q.forEach(Object.keys(a).concat(Object.keys(s)),function(T){var d=x[T]||l,P=d(T);Q.isUndefined(P)&&d!==v||(h[T]=P)}),h},ue,mn;function Xn(){return mn||(mn=1,ue={version:"0.27.2"}),ue}var Fs=Xn().version,ot=gt,Ce={};["object","boolean","number","function","string","symbol"].forEach(function(u,a){Ce[u]=function(h){return typeof h===u||"a"+(a<1?"n ":" ")+u}});var _n={};Ce.transitional=function(a,s,h){function o(l,f){return"[Axios v"+Fs+"] Transitional option '"+l+"'"+f+(h?". "+h:"")}return function(l,f,y){if(a===!1)throw new ot(o(f," has been removed"+(s?" in "+s:"")),ot.ERR_DEPRECATED);return s&&!_n[f]&&(_n[f]=!0,console.warn(o(f," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(l,f,y):!0}};function Ms(u,a,s){if(typeof u!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);for(var h=Object.keys(u),o=h.length;o-- >0;){var l=h[o],f=a[l];if(f){var y=u[l],v=y===void 0||f(y,l,u);if(v!==!0)throw new ot("option "+l+" must be "+v,ot.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ot("Unknown option "+l,ot.ERR_BAD_OPTION)}}var zs={assertOptions:Ms,validators:Ce},Jn=U,Xs=Nn,bn=vs,wn=Bs,Ut=zn,Js=Fn,$n=zs,dt=$n.validators;function yt(u){this.defaults=u,this.interceptors={request:new bn,response:new bn}}yt.prototype.request=function(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=Ut(this.defaults,s),s.method?s.method=s.method.toLowerCase():this.defaults.method?s.method=this.defaults.method.toLowerCase():s.method="get";var h=s.transitional;h!==void 0&&$n.assertOptions(h,{silentJSONParsing:dt.transitional(dt.boolean),forcedJSONParsing:dt.transitional(dt.boolean),clarifyTimeoutError:dt.transitional(dt.boolean)},!1);var o=[],l=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(s)===!1||(l=l&&P.synchronous,o.unshift(P.fulfilled,P.rejected))});var f=[];this.interceptors.response.forEach(function(P){f.push(P.fulfilled,P.rejected)});var y;if(!l){var v=[wn,void 0];for(Array.prototype.unshift.apply(v,o),v=v.concat(f),y=Promise.resolve(s);v.length;)y=y.then(v.shift(),v.shift());return y}for(var x=s;o.length;){var S=o.shift(),T=o.shift();try{x=S(x)}catch(d){T(d);break}}try{y=wn(x)}catch(d){return Promise.reject(d)}for(;f.length;)y=y.then(f.shift(),f.shift());return y};yt.prototype.getUri=function(a){a=Ut(this.defaults,a);var s=Js(a.baseURL,a.url);return Xs(s,a.params,a.paramsSerializer)};Jn.forEach(["delete","get","head","options"],function(a){yt.prototype[a]=function(s,h){return this.request(Ut(h||{},{method:a,url:s,data:(h||{}).data}))}});Jn.forEach(["post","put","patch"],function(a){function s(h){return function(l,f,y){return this.request(Ut(y||{},{method:a,headers:h?{"Content-Type":"multipart/form-data"}:{},url:l,data:f}))}}yt.prototype[a]=s(),yt.prototype[a+"Form"]=s(!0)});var $s=yt,ce,Sn;function Ws(){if(Sn)return ce;Sn=1;var u=jt();function a(s){if(typeof s!="function")throw new TypeError("executor must be a function.");var h;this.promise=new Promise(function(f){h=f});var o=this;this.promise.then(function(l){if(!!o._listeners){var f,y=o._listeners.length;for(f=0;f<y;f++)o._listeners[f](l);o._listeners=null}}),this.promise.then=function(l){var f,y=new Promise(function(v){o.subscribe(v),f=v}).then(l);return y.cancel=function(){o.unsubscribe(f)},y},s(function(f){o.reason||(o.reason=new u(f),h(o.reason))})}return a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(h){if(this.reason){h(this.reason);return}this._listeners?this._listeners.push(h):this._listeners=[h]},a.prototype.unsubscribe=function(h){if(!!this._listeners){var o=this._listeners.indexOf(h);o!==-1&&this._listeners.splice(o,1)}},a.source=function(){var h,o=new a(function(f){h=f});return{token:o,cancel:h}},ce=a,ce}var he,Cn;function Vs(){return Cn||(Cn=1,he=function(a){return function(h){return a.apply(null,h)}}),he}var le,kn;function Qs(){if(kn)return le;kn=1;var u=U;return le=function(s){return u.isObject(s)&&s.isAxiosError===!0},le}var Tn=U,Gs=Ln,xt=$s,Ks=zn,Ys=Se;function Wn(u){var a=new xt(u),s=Gs(xt.prototype.request,a);return Tn.extend(s,xt.prototype,a),Tn.extend(s,a),s.create=function(o){return Wn(Ks(u,o))},s}var X=Wn(Ys);X.Axios=xt;X.CanceledError=jt();X.CancelToken=Ws();X.isCancel=Mn();X.VERSION=Xn().version;X.toFormData=Bn;X.AxiosError=gt;X.Cancel=X.CanceledError;X.all=function(a){return Promise.all(a)};X.spread=Vs();X.isAxiosError=Qs();ye.exports=X;ye.exports.default=X;(function(u){u.exports=ye.exports})(An);const Vn=Rn(An.exports);window.axios=Vn;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios.defaults.headers.common["Content-Type"]="application/json";window.axios.defaults.headers.common.Accept="application/json";window.axios.defaults.headers.common["Access-Control-Allow-origin"]="*";window.axios.defaults.headers.common["X-Referer"]=window.location.hostname;Vn.defaults.withCredentials=!0;window.sanctum=async(u,a={})=>(await window.axios.get("/sanctum/csrf-cookie",{baseURL:"https://cogni4health.com:443"}).catch(s=>{var l,f;const h=(l=s.response)==null?void 0:l.data,o=(f=s.response)==null?void 0:f.headers;console.error({data:h,headers:o})}),window.axios(u,{baseURL:"/api/v1",...a}));function pe(u){return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},pe(u)}function q(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function Pn(u,a){for(var s=0;s<a.length;s++){var h=a[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function D(u,a,s){return a&&Pn(u.prototype,a),s&&Pn(u,s),Object.defineProperty(u,"prototype",{writable:!1}),u}function de(){return de=Object.assign||function(u){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(u[h]=s[h])}return u},de.apply(this,arguments)}function G(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),a&&ve(u,a)}function At(u){return At=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},At(u)}function ve(u,a){return ve=Object.setPrototypeOf||function(h,o){return h.__proto__=o,h},ve(u,a)}function Zs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ta(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function ea(u,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ta(u)}function K(u){var a=Zs();return function(){var h=At(u),o;if(a){var l=At(this).constructor;o=Reflect.construct(h,arguments,l)}else o=h.apply(this,arguments);return ea(this,o)}}var ke=function(){function u(){q(this,u)}return D(u,[{key:"listenForWhisper",value:function(s,h){return this.listen(".client-"+s,h)}},{key:"notification",value:function(s){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",s)}},{key:"stopListeningForWhisper",value:function(s,h){return this.stopListening(".client-"+s,h)}}]),u}(),Qn=function(){function u(a){q(this,u),this.setNamespace(a)}return D(u,[{key:"format",value:function(s){return s.charAt(0)==="."||s.charAt(0)==="\\"?s.substr(1):(this.namespace&&(s=this.namespace+"."+s),s.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(s){this.namespace=s}}]),u}(),qt=function(u){G(s,u);var a=K(s);function s(h,o,l){var f;return q(this,s),f=a.call(this),f.name=o,f.pusher=h,f.options=l,f.eventFormatter=new Qn(f.options.namespace),f.subscribe(),f}return D(s,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(o,l){return this.on(this.eventFormatter.format(o),l),this}},{key:"listenToAll",value:function(o){var l=this;return this.subscription.bind_global(function(f,y){if(!f.startsWith("pusher:")){var v=l.options.namespace.replace(/\./g,"\\"),x=f.startsWith(v)?f.substring(v.length+1):"."+f;o(x,y)}}),this}},{key:"stopListening",value:function(o,l){return l?this.subscription.unbind(this.eventFormatter.format(o),l):this.subscription.unbind(this.eventFormatter.format(o)),this}},{key:"stopListeningToAll",value:function(o){return o?this.subscription.unbind_global(o):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(o){return this.on("pusher:subscription_succeeded",function(){o()}),this}},{key:"error",value:function(o){return this.on("pusher:subscription_error",function(l){o(l)}),this}},{key:"on",value:function(o,l){return this.subscription.bind(o,l),this}}]),s}(ke),na=function(u){G(s,u);var a=K(s);function s(){return q(this,s),a.apply(this,arguments)}return D(s,[{key:"whisper",value:function(o,l){return this.pusher.channels.channels[this.name].trigger("client-".concat(o),l),this}}]),s}(qt),ra=function(u){G(s,u);var a=K(s);function s(){return q(this,s),a.apply(this,arguments)}return D(s,[{key:"whisper",value:function(o,l){return this.pusher.channels.channels[this.name].trigger("client-".concat(o),l),this}}]),s}(qt),ia=function(u){G(s,u);var a=K(s);function s(){return q(this,s),a.apply(this,arguments)}return D(s,[{key:"here",value:function(o){return this.on("pusher:subscription_succeeded",function(l){o(Object.keys(l.members).map(function(f){return l.members[f]}))}),this}},{key:"joining",value:function(o){return this.on("pusher:member_added",function(l){o(l.info)}),this}},{key:"leaving",value:function(o){return this.on("pusher:member_removed",function(l){o(l.info)}),this}},{key:"whisper",value:function(o,l){return this.pusher.channels.channels[this.name].trigger("client-".concat(o),l),this}}]),s}(qt),Gn=function(u){G(s,u);var a=K(s);function s(h,o,l){var f;return q(this,s),f=a.call(this),f.events={},f.listeners={},f.name=o,f.socket=h,f.options=l,f.eventFormatter=new Qn(f.options.namespace),f.subscribe(),f}return D(s,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(o,l){return this.on(this.eventFormatter.format(o),l),this}},{key:"stopListening",value:function(o,l){return this.unbindEvent(this.eventFormatter.format(o),l),this}},{key:"subscribed",value:function(o){return this.on("connect",function(l){o(l)}),this}},{key:"error",value:function(o){return this}},{key:"on",value:function(o,l){var f=this;return this.listeners[o]=this.listeners[o]||[],this.events[o]||(this.events[o]=function(y,v){f.name===y&&f.listeners[o]&&f.listeners[o].forEach(function(x){return x(v)})},this.socket.on(o,this.events[o])),this.listeners[o].push(l),this}},{key:"unbind",value:function(){var o=this;Object.keys(this.events).forEach(function(l){o.unbindEvent(l)})}},{key:"unbindEvent",value:function(o,l){this.listeners[o]=this.listeners[o]||[],l&&(this.listeners[o]=this.listeners[o].filter(function(f){return f!==l})),(!l||this.listeners[o].length===0)&&(this.events[o]&&(this.socket.removeListener(o,this.events[o]),delete this.events[o]),delete this.listeners[o])}}]),s}(ke),Kn=function(u){G(s,u);var a=K(s);function s(){return q(this,s),a.apply(this,arguments)}return D(s,[{key:"whisper",value:function(o,l){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(o),data:l}),this}}]),s}(Gn),oa=function(u){G(s,u);var a=K(s);function s(){return q(this,s),a.apply(this,arguments)}return D(s,[{key:"here",value:function(o){return this.on("presence:subscribed",function(l){o(l.map(function(f){return f.user_info}))}),this}},{key:"joining",value:function(o){return this.on("presence:joining",function(l){return o(l.user_info)}),this}},{key:"leaving",value:function(o){return this.on("presence:leaving",function(l){return o(l.user_info)}),this}}]),s}(Kn),Lt=function(u){G(s,u);var a=K(s);function s(){return q(this,s),a.apply(this,arguments)}return D(s,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(o,l){return this}},{key:"stopListening",value:function(o,l){return this}},{key:"subscribed",value:function(o){return this}},{key:"error",value:function(o){return this}},{key:"on",value:function(o,l){return this}}]),s}(ke),sa=function(u){G(s,u);var a=K(s);function s(){return q(this,s),a.apply(this,arguments)}return D(s,[{key:"whisper",value:function(o,l){return this}}]),s}(Lt),aa=function(u){G(s,u);var a=K(s);function s(){return q(this,s),a.apply(this,arguments)}return D(s,[{key:"here",value:function(o){return this}},{key:"joining",value:function(o){return this}},{key:"leaving",value:function(o){return this}},{key:"whisper",value:function(o,l){return this}}]),s}(Lt),Te=function(){function u(a){q(this,u),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(a),this.connect()}return D(u,[{key:"setOptions",value:function(s){this.options=de(this._defaultOptions,s);var h=this.csrfToken();return h&&(this.options.auth.headers["X-CSRF-TOKEN"]=h,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=h),h=this.options.bearerToken,h&&(this.options.auth.headers.Authorization="Bearer "+h,this.options.userAuthentication.headers.Authorization="Bearer "+h),s}},{key:"csrfToken",value:function(){var s;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(s=document.querySelector('meta[name="csrf-token"]'))?s.getAttribute("content"):null}}]),u}(),ua=function(u){G(s,u);var a=K(s);function s(){var h;return q(this,s),h=a.apply(this,arguments),h.channels={},h}return D(s,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(o,l,f){return this.channel(o).listen(l,f)}},{key:"channel",value:function(o){return this.channels[o]||(this.channels[o]=new qt(this.pusher,o,this.options)),this.channels[o]}},{key:"privateChannel",value:function(o){return this.channels["private-"+o]||(this.channels["private-"+o]=new na(this.pusher,"private-"+o,this.options)),this.channels["private-"+o]}},{key:"encryptedPrivateChannel",value:function(o){return this.channels["private-encrypted-"+o]||(this.channels["private-encrypted-"+o]=new ra(this.pusher,"private-encrypted-"+o,this.options)),this.channels["private-encrypted-"+o]}},{key:"presenceChannel",value:function(o){return this.channels["presence-"+o]||(this.channels["presence-"+o]=new ia(this.pusher,"presence-"+o,this.options)),this.channels["presence-"+o]}},{key:"leave",value:function(o){var l=this,f=[o,"private-"+o,"private-encrypted-"+o,"presence-"+o];f.forEach(function(y,v){l.leaveChannel(y)})}},{key:"leaveChannel",value:function(o){this.channels[o]&&(this.channels[o].unsubscribe(),delete this.channels[o])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),s}(Te),ca=function(u){G(s,u);var a=K(s);function s(){var h;return q(this,s),h=a.apply(this,arguments),h.channels={},h}return D(s,[{key:"connect",value:function(){var o=this,l=this.getSocketIO();return this.socket=l(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(o.channels).forEach(function(f){f.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(o,l,f){return this.channel(o).listen(l,f)}},{key:"channel",value:function(o){return this.channels[o]||(this.channels[o]=new Gn(this.socket,o,this.options)),this.channels[o]}},{key:"privateChannel",value:function(o){return this.channels["private-"+o]||(this.channels["private-"+o]=new Kn(this.socket,"private-"+o,this.options)),this.channels["private-"+o]}},{key:"presenceChannel",value:function(o){return this.channels["presence-"+o]||(this.channels["presence-"+o]=new oa(this.socket,"presence-"+o,this.options)),this.channels["presence-"+o]}},{key:"leave",value:function(o){var l=this,f=[o,"private-"+o,"presence-"+o];f.forEach(function(y){l.leaveChannel(y)})}},{key:"leaveChannel",value:function(o){this.channels[o]&&(this.channels[o].unsubscribe(),delete this.channels[o])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),s}(Te),ha=function(u){G(s,u);var a=K(s);function s(){var h;return q(this,s),h=a.apply(this,arguments),h.channels={},h}return D(s,[{key:"connect",value:function(){}},{key:"listen",value:function(o,l,f){return new Lt}},{key:"channel",value:function(o){return new Lt}},{key:"privateChannel",value:function(o){return new sa}},{key:"presenceChannel",value:function(o){return new aa}},{key:"leave",value:function(o){}},{key:"leaveChannel",value:function(o){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),s}(Te),la=function(){function u(a){q(this,u),this.options=a,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return D(u,[{key:"channel",value:function(s){return this.connector.channel(s)}},{key:"connect",value:function(){this.options.broadcaster=="pusher"?this.connector=new ua(this.options):this.options.broadcaster=="socket.io"?this.connector=new ca(this.options):this.options.broadcaster=="null"?this.connector=new ha(this.options):typeof this.options.broadcaster=="function"&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(s){return this.connector.presenceChannel(s)}},{key:"leave",value:function(s){this.connector.leave(s)}},{key:"leaveChannel",value:function(s){this.connector.leaveChannel(s)}},{key:"listen",value:function(s,h,o){return this.connector.listen(s,h,o)}},{key:"private",value:function(s){return this.connector.privateChannel(s)}},{key:"encryptedPrivate",value:function(s){return this.connector.encryptedPrivateChannel(s)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":pe(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var s=this;Vue.http.interceptors.push(function(h,o){s.socketId()&&h.headers.set("X-Socket-ID",s.socketId()),o()})}},{key:"registerAxiosRequestInterceptor",value:function(){var s=this;axios.interceptors.request.use(function(h){return s.socketId()&&(h.headers["X-Socket-Id"]=s.socketId()),h})}},{key:"registerjQueryAjaxSetup",value:function(){var s=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(h,o,l){s.socketId()&&l.setRequestHeader("X-Socket-Id",s.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var s=this;document.addEventListener("turbo:before-fetch-request",function(h){h.detail.fetchOptions.headers["X-Socket-Id"]=s.socketId()})}}]),u}(),Yn={exports:{}};/*!
 * Pusher JavaScript Library v7.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(u,a){(function(h,o){u.exports=o()})(window,function(){return function(s){var h={};function o(l){if(h[l])return h[l].exports;var f=h[l]={i:l,l:!1,exports:{}};return s[l].call(f.exports,f,f.exports,o),f.l=!0,f.exports}return o.m=s,o.c=h,o.d=function(l,f,y){o.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:y})},o.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.t=function(l,f){if(f&1&&(l=o(l)),f&8||f&4&&typeof l=="object"&&l&&l.__esModule)return l;var y=Object.create(null);if(o.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:l}),f&2&&typeof l!="string")for(var v in l)o.d(y,v,function(x){return l[x]}.bind(null,v));return y},o.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(f,"a",f),f},o.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},o.p="",o(o.s=2)}([function(s,h,o){var l=this&&this.__extends||function(){var k=function(g,_){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,A){E.__proto__=A}||function(E,A){for(var j in A)A.hasOwnProperty(j)&&(E[j]=A[j])},k(g,_)};return function(g,_){k(g,_);function E(){this.constructor=g}g.prototype=_===null?Object.create(_):(E.prototype=_.prototype,new E)}}();Object.defineProperty(h,"__esModule",{value:!0});var f=256,y=function(){function k(g){g===void 0&&(g="="),this._paddingCharacter=g}return k.prototype.encodedLength=function(g){return this._paddingCharacter?(g+2)/3*4|0:(g*8+5)/6|0},k.prototype.encode=function(g){for(var _="",E=0;E<g.length-2;E+=3){var A=g[E]<<16|g[E+1]<<8|g[E+2];_+=this._encodeByte(A>>>3*6&63),_+=this._encodeByte(A>>>2*6&63),_+=this._encodeByte(A>>>1*6&63),_+=this._encodeByte(A>>>0*6&63)}var j=g.length-E;if(j>0){var A=g[E]<<16|(j===2?g[E+1]<<8:0);_+=this._encodeByte(A>>>3*6&63),_+=this._encodeByte(A>>>2*6&63),j===2?_+=this._encodeByte(A>>>1*6&63):_+=this._paddingCharacter||"",_+=this._paddingCharacter||""}return _},k.prototype.maxDecodedLength=function(g){return this._paddingCharacter?g/4*3|0:(g*6+7)/8|0},k.prototype.decodedLength=function(g){return this.maxDecodedLength(g.length-this._getPaddingLength(g))},k.prototype.decode=function(g){if(g.length===0)return new Uint8Array(0);for(var _=this._getPaddingLength(g),E=g.length-_,A=new Uint8Array(this.maxDecodedLength(E)),j=0,w=0,J=0,Y=0,F=0,M=0,$=0;w<E-4;w+=4)Y=this._decodeChar(g.charCodeAt(w+0)),F=this._decodeChar(g.charCodeAt(w+1)),M=this._decodeChar(g.charCodeAt(w+2)),$=this._decodeChar(g.charCodeAt(w+3)),A[j++]=Y<<2|F>>>4,A[j++]=F<<4|M>>>2,A[j++]=M<<6|$,J|=Y&f,J|=F&f,J|=M&f,J|=$&f;if(w<E-1&&(Y=this._decodeChar(g.charCodeAt(w)),F=this._decodeChar(g.charCodeAt(w+1)),A[j++]=Y<<2|F>>>4,J|=Y&f,J|=F&f),w<E-2&&(M=this._decodeChar(g.charCodeAt(w+2)),A[j++]=F<<4|M>>>2,J|=M&f),w<E-3&&($=this._decodeChar(g.charCodeAt(w+3)),A[j++]=M<<6|$,J|=$&f),J!==0)throw new Error("Base64Coder: incorrect characters for decoding");return A},k.prototype._encodeByte=function(g){var _=g;return _+=65,_+=25-g>>>8&0-65-26+97,_+=51-g>>>8&26-97-52+48,_+=61-g>>>8&52-48-62+43,_+=62-g>>>8&62-43-63+47,String.fromCharCode(_)},k.prototype._decodeChar=function(g){var _=f;return _+=(42-g&g-44)>>>8&-f+g-43+62,_+=(46-g&g-48)>>>8&-f+g-47+63,_+=(47-g&g-58)>>>8&-f+g-48+52,_+=(64-g&g-91)>>>8&-f+g-65+0,_+=(96-g&g-123)>>>8&-f+g-97+26,_},k.prototype._getPaddingLength=function(g){var _=0;if(this._paddingCharacter){for(var E=g.length-1;E>=0&&g[E]===this._paddingCharacter;E--)_++;if(g.length<4||_>2)throw new Error("Base64Coder: incorrect padding")}return _},k}();h.Coder=y;var v=new y;function x(k){return v.encode(k)}h.encode=x;function S(k){return v.decode(k)}h.decode=S;var T=function(k){l(g,k);function g(){return k!==null&&k.apply(this,arguments)||this}return g.prototype._encodeByte=function(_){var E=_;return E+=65,E+=25-_>>>8&0-65-26+97,E+=51-_>>>8&26-97-52+48,E+=61-_>>>8&52-48-62+45,E+=62-_>>>8&62-45-63+95,String.fromCharCode(E)},g.prototype._decodeChar=function(_){var E=f;return E+=(44-_&_-46)>>>8&-f+_-45+62,E+=(94-_&_-96)>>>8&-f+_-95+63,E+=(47-_&_-58)>>>8&-f+_-48+52,E+=(64-_&_-91)>>>8&-f+_-65+0,E+=(96-_&_-123)>>>8&-f+_-97+26,E},g}(y);h.URLSafeCoder=T;var d=new T;function P(k){return d.encode(k)}h.encodeURLSafe=P;function L(k){return d.decode(k)}h.decodeURLSafe=L,h.encodedLength=function(k){return v.encodedLength(k)},h.maxDecodedLength=function(k){return v.maxDecodedLength(k)},h.decodedLength=function(k){return v.decodedLength(k)}},function(s,h,o){Object.defineProperty(h,"__esModule",{value:!0});var l="utf8: invalid string",f="utf8: invalid source encoding";function y(S){for(var T=new Uint8Array(v(S)),d=0,P=0;P<S.length;P++){var L=S.charCodeAt(P);L<128?T[d++]=L:L<2048?(T[d++]=192|L>>6,T[d++]=128|L&63):L<55296?(T[d++]=224|L>>12,T[d++]=128|L>>6&63,T[d++]=128|L&63):(P++,L=(L&1023)<<10,L|=S.charCodeAt(P)&1023,L+=65536,T[d++]=240|L>>18,T[d++]=128|L>>12&63,T[d++]=128|L>>6&63,T[d++]=128|L&63)}return T}h.encode=y;function v(S){for(var T=0,d=0;d<S.length;d++){var P=S.charCodeAt(d);if(P<128)T+=1;else if(P<2048)T+=2;else if(P<55296)T+=3;else if(P<=57343){if(d>=S.length-1)throw new Error(l);d++,T+=4}else throw new Error(l)}return T}h.encodedLength=v;function x(S){for(var T=[],d=0;d<S.length;d++){var P=S[d];if(P&128){var L=void 0;if(P<224){if(d>=S.length)throw new Error(f);var k=S[++d];if((k&192)!==128)throw new Error(f);P=(P&31)<<6|k&63,L=128}else if(P<240){if(d>=S.length-1)throw new Error(f);var k=S[++d],g=S[++d];if((k&192)!==128||(g&192)!==128)throw new Error(f);P=(P&15)<<12|(k&63)<<6|g&63,L=2048}else if(P<248){if(d>=S.length-2)throw new Error(f);var k=S[++d],g=S[++d],_=S[++d];if((k&192)!==128||(g&192)!==128||(_&192)!==128)throw new Error(f);P=(P&15)<<18|(k&63)<<12|(g&63)<<6|_&63,L=65536}else throw new Error(f);if(P<L||P>=55296&&P<=57343)throw new Error(f);if(P>=65536){if(P>1114111)throw new Error(f);P-=65536,T.push(String.fromCharCode(55296|P>>10)),P=56320|P&1023}}T.push(String.fromCharCode(P))}return T.join("")}h.decode=x},function(s,h,o){s.exports=o(3).default},function(s,h,o){o.r(h);var l=function(){function e(t,n){this.lastId=0,this.prefix=t,this.name=n}return e.prototype.create=function(t){this.lastId++;var n=this.lastId,r=this.prefix+n,i=this.name+"["+n+"]",c=!1,p=function(){c||(t.apply(null,arguments),c=!0)};return this[n]=p,{number:n,id:r,name:i,callback:p}},e.prototype.remove=function(t){delete this[t.number]},e}(),f=new l("_pusher_script_","Pusher.ScriptReceivers"),y={VERSION:"7.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},v=y,x=function(){function e(t){this.options=t,this.receivers=t.receivers||f,this.loading={}}return e.prototype.load=function(t,n,r){var i=this;if(i.loading[t]&&i.loading[t].length>0)i.loading[t].push(r);else{i.loading[t]=[r];var c=O.createScriptRequest(i.getPath(t,n)),p=i.receivers.create(function(m){if(i.receivers.remove(p),i.loading[t]){var C=i.loading[t];delete i.loading[t];for(var b=function(B){B||c.cleanup()},R=0;R<C.length;R++)C[R](m,b)}});c.send(p)}},e.prototype.getRoot=function(t){var n,r=O.getDocument().location.protocol;return t&&t.useTLS||r==="https:"?n=this.options.cdn_https:n=this.options.cdn_http,n.replace(/\/*$/,"")+"/"+this.options.version},e.prototype.getPath=function(t,n){return this.getRoot(n)+"/"+t+this.options.suffix+".js"},e}(),S=x,T=new l("_pusher_dependencies","Pusher.DependenciesReceivers"),d=new S({cdn_http:v.cdn_http,cdn_https:v.cdn_https,version:v.VERSION,suffix:v.dependency_suffix,receivers:T}),P={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},L=function(e){var t="See:",n=P.urls[e];if(!n)return"";var r;return n.fullUrl?r=n.fullUrl:n.path&&(r=P.baseUrl+n.path),r?t+" "+r:""},k={buildLogSuffix:L},g;(function(e){e.UserAuthentication="user-authentication",e.ChannelAuthorization="channel-authorization"})(g||(g={}));var _=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(e){_(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),A=function(e){_(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),j=function(e){_(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),w=function(e){_(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),J=function(e){_(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),Y=function(e){_(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),F=function(e){_(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),M=function(e){_(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return t}(Error),$=function(e){_(t,e);function t(n,r){var i=this.constructor,c=e.call(this,r)||this;return c.status=n,Object.setPrototypeOf(c,i.prototype),c}return t}(Error),mt=function(e,t,n,r,i){var c=O.createXHR();c.open("POST",n.endpoint,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var p in n.headers)c.setRequestHeader(p,n.headers[p]);return c.onreadystatechange=function(){if(c.readyState===4)if(c.status===200){var m=void 0,C=!1;try{m=JSON.parse(c.responseText),C=!0}catch{i(new $(200,"JSON returned from "+r.toString()+" endpoint was invalid, yet status code was 200. Data was: "+c.responseText),null)}C&&i(null,m)}else{var b="";switch(r){case g.UserAuthentication:b=k.buildLogSuffix("authenticationEndpoint");break;case g.ChannelAuthorization:b="Clients must be authenticated to join private or presence channels. "+k.buildLogSuffix("authorizationEndpoint");break}i(new $(c.status,"Unable to retrieve auth string from "+r.toString()+" endpoint - "+("received status: "+c.status+" from "+n.endpoint+". "+b)),null)}},c.send(t),c},W=mt;function rt(e){return er(Zn(e))}var V=String.fromCharCode,lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?V(192|t>>>6)+V(128|t&63):V(224|t>>>12&15)+V(128|t>>>6&63)+V(128|t&63)},Zn=function(e){return e.replace(/[^\x00-\x7F]/g,_t)},tr=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[lt.charAt(n>>>18),lt.charAt(n>>>12&63),t>=2?"=":lt.charAt(n>>>6&63),t>=1?"=":lt.charAt(n&63)];return r.join("")},er=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,tr)},nr=function(){function e(t,n,r,i){var c=this;this.clear=n,this.timer=t(function(){c.timer&&(c.timer=i(c.timer))},r)}return e.prototype.isRunning=function(){return this.timer!==null},e.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},e}(),Pe=nr,Ee=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function rr(e){window.clearTimeout(e)}function ir(e){window.clearInterval(e)}var st=function(e){Ee(t,e);function t(n,r){return e.call(this,setTimeout,rr,n,function(i){return r(),null})||this}return t}(Pe),or=function(e){Ee(t,e);function t(n,r){return e.call(this,setInterval,ir,n,function(i){return r(),i})||this}return t}(Pe),sr={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(e){return new st(0,e)},method:function(e){var t=Array.prototype.slice.call(arguments,1);return function(n){return n[e].apply(n,t.concat(arguments))}}},H=sr;function z(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var c in i)i[c]&&i[c].constructor&&i[c].constructor===Object?e[c]=z(e[c]||{},i[c]):e[c]=i[c]}return e}function ar(){for(var e=["Pusher"],t=0;t<arguments.length;t++)typeof arguments[t]=="string"?e.push(arguments[t]):e.push(Ct(arguments[t]));return e.join(" : ")}function Oe(e,t){var n=Array.prototype.indexOf;if(e===null)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function et(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function xe(e){var t=[];return et(e,function(n,r){t.push(r)}),t}function ur(e){var t=[];return et(e,function(n){t.push(n)}),t}function bt(e,t,n){for(var r=0;r<e.length;r++)t.call(n||window,e[r],r,e)}function Re(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r,e,n));return n}function cr(e,t){var n={};return et(e,function(r,i){n[i]=t(r)}),n}function Ae(e,t){t=t||function(i){return!!i};for(var n=[],r=0;r<e.length;r++)t(e[r],r,e,n)&&n.push(e[r]);return n}function Le(e,t){var n={};return et(e,function(r,i){(t&&t(r,i,e,n)||Boolean(r))&&(n[i]=r)}),n}function hr(e){var t=[];return et(e,function(n,r){t.push([r,n])}),t}function Ie(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}function lr(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0}function fr(e){return cr(e,function(t){return typeof t=="object"&&(t=Ct(t)),encodeURIComponent(rt(t.toString()))})}function pr(e){var t=Le(e,function(r){return r!==void 0}),n=Re(hr(fr(t)),H.method("join","=")).join("&");return n}function dr(e){var t=[],n=[];return function r(i,c){var p,m,C;switch(typeof i){case"object":if(!i)return null;for(p=0;p<t.length;p+=1)if(t[p]===i)return{$ref:n[p]};if(t.push(i),n.push(c),Object.prototype.toString.apply(i)==="[object Array]")for(C=[],p=0;p<i.length;p+=1)C[p]=r(i[p],c+"["+p+"]");else{C={};for(m in i)Object.prototype.hasOwnProperty.call(i,m)&&(C[m]=r(i[m],c+"["+JSON.stringify(m)+"]"))}return C;case"number":case"string":case"boolean":return i}}(e,"$")}function Ct(e){try{return JSON.stringify(e)}catch{return JSON.stringify(dr(e))}}var vr=function(){function e(){this.globalLog=function(t){window.console&&window.console.log&&window.console.log(t)}}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log(this.globalLog,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log(this.globalLogWarn,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log(this.globalLogError,t)},e.prototype.globalLogWarn=function(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)},e.prototype.globalLogError=function(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)},e.prototype.log=function(t){var n=ar.apply(this,arguments);if(Vt.log)Vt.log(n);else if(Vt.logToConsole){var r=t.bind(this);r(n)}},e}(),I=new vr,yr=function(e,t,n,r,i){n.headers!==void 0&&I.warn("To send headers with the "+r.toString()+" request, you must use AJAX, rather than JSONP.");var c=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var p=e.getDocument(),m=p.createElement("script");e.auth_callbacks[c]=function(R){i(null,R)};var C="Pusher.auth_callbacks['"+c+"']";m.src=n.endpoint+"?callback="+encodeURIComponent(C)+"&"+t;var b=p.getElementsByTagName("head")[0]||p.documentElement;b.insertBefore(m,b.firstChild)},gr=yr,mr=function(){function e(t){this.src=t}return e.prototype.send=function(t){var n=this,r="Error loading "+n.src;n.script=document.createElement("script"),n.script.id=t.id,n.script.src=n.src,n.script.type="text/javascript",n.script.charset="UTF-8",n.script.addEventListener?(n.script.onerror=function(){t.callback(r)},n.script.onload=function(){t.callback(null)}):n.script.onreadystatechange=function(){(n.script.readyState==="loaded"||n.script.readyState==="complete")&&t.callback(null)},n.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(n.errorScript=document.createElement("script"),n.errorScript.id=t.id+"_error",n.errorScript.text=t.name+"('"+r+"');",n.script.async=n.errorScript.async=!1):n.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(n.script,i.firstChild),n.errorScript&&i.insertBefore(n.errorScript,n.script.nextSibling)},e.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},e}(),_r=mr,br=function(){function e(t,n){this.url=t,this.data=n}return e.prototype.send=function(t){if(!this.request){var n=pr(this.data),r=this.url+"/"+t.number+"?"+n;this.request=O.createScriptRequest(r),this.request.send(t)}},e.prototype.cleanup=function(){this.request&&this.request.cleanup()},e}(),wr=br,Sr=function(e,t){return function(n,r){var i="http"+(t?"s":"")+"://",c=i+(e.host||e.options.host)+e.options.path,p=O.createJSONPRequest(c,n),m=O.ScriptReceivers.create(function(C,b){f.remove(m),p.cleanup(),b&&b.host&&(e.host=b.host),r&&r(C,b)});p.send(m)}},Cr={name:"jsonp",getAgent:Sr},kr=Cr;function Dt(e,t,n){var r=e+(t.useTLS?"s":""),i=t.useTLS?t.hostTLS:t.hostNonTLS;return r+"://"+i+n}function Ht(e,t){var n="/app/"+e,r="?protocol="+v.PROTOCOL+"&client=js&version="+v.VERSION+(t?"&"+t:"");return n+r}var Tr={getInitial:function(e,t){var n=(t.httpPath||"")+Ht(e,"flash=false");return Dt("ws",t,n)}},Pr={getInitial:function(e,t){var n=(t.httpPath||"/pusher")+Ht(e);return Dt("http",t,n)}},Er={getInitial:function(e,t){return Dt("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return Ht(e)}},Or=function(){function e(){this._callbacks={}}return e.prototype.get=function(t){return this._callbacks[Bt(t)]},e.prototype.add=function(t,n,r){var i=Bt(t);this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push({fn:n,context:r})},e.prototype.remove=function(t,n,r){if(!t&&!n&&!r){this._callbacks={};return}var i=t?[Bt(t)]:xe(this._callbacks);n||r?this.removeCallback(i,n,r):this.removeAllCallbacks(i)},e.prototype.removeCallback=function(t,n,r){bt(t,function(i){this._callbacks[i]=Ae(this._callbacks[i]||[],function(c){return n&&n!==c.fn||r&&r!==c.context}),this._callbacks[i].length===0&&delete this._callbacks[i]},this)},e.prototype.removeAllCallbacks=function(t){bt(t,function(n){delete this._callbacks[n]},this)},e}(),xr=Or;function Bt(e){return"_"+e}var Rr=function(){function e(t){this.callbacks=new xr,this.global_callbacks=[],this.failThrough=t}return e.prototype.bind=function(t,n,r){return this.callbacks.add(t,n,r),this},e.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},e.prototype.unbind=function(t,n,r){return this.callbacks.remove(t,n,r),this},e.prototype.unbind_global=function(t){return t?(this.global_callbacks=Ae(this.global_callbacks||[],function(n){return n!==t}),this):(this.global_callbacks=[],this)},e.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},e.prototype.emit=function(t,n,r){for(var i=0;i<this.global_callbacks.length;i++)this.global_callbacks[i](t,n);var c=this.callbacks.get(t),p=[];if(r?p.push(n,r):n&&p.push(n),c&&c.length>0)for(var i=0;i<c.length;i++)c[i].fn.apply(c[i].context||window,p);else this.failThrough&&this.failThrough(t,n);return this},e}(),it=Rr,Ar=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lr=function(e){Ar(t,e);function t(n,r,i,c,p){var m=e.call(this)||this;return m.initialize=O.transportConnectionInitializer,m.hooks=n,m.name=r,m.priority=i,m.key=c,m.options=p,m.state="new",m.timeline=p.timeline,m.activityTimeout=p.activityTimeout,m.id=m.timeline.generateUniqueID(),m}return t.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},t.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},t.prototype.connect=function(){var n=this;if(this.socket||this.state!=="initialized")return!1;var r=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(r,this.options)}catch(i){return H.defer(function(){n.onError(i),n.changeState("closed")}),!1}return this.bindListeners(),I.debug("Connecting",{transport:this.name,url:r}),this.changeState("connecting"),!0},t.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},t.prototype.send=function(n){var r=this;return this.state==="open"?(H.defer(function(){r.socket&&r.socket.send(n)}),!0):!1},t.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},t.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.prototype.onError=function(n){this.emit("error",{type:"WebSocketError",error:n}),this.timeline.error(this.buildTimelineMessage({error:n.toString()}))},t.prototype.onClose=function(n){n?this.changeState("closed",{code:n.code,reason:n.reason,wasClean:n.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.prototype.onMessage=function(n){this.emit("message",n)},t.prototype.onActivity=function(){this.emit("activity")},t.prototype.bindListeners=function(){var n=this;this.socket.onopen=function(){n.onOpen()},this.socket.onerror=function(r){n.onError(r)},this.socket.onclose=function(r){n.onClose(r)},this.socket.onmessage=function(r){n.onMessage(r)},this.supportsPing()&&(this.socket.onactivity=function(){n.onActivity()})},t.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.prototype.changeState=function(n,r){this.state=n,this.timeline.info(this.buildTimelineMessage({state:n,params:r})),this.emit(n,r)},t.prototype.buildTimelineMessage=function(n){return z({cid:this.id},n)},t}(it),Ir=Lr,jr=function(){function e(t){this.hooks=t}return e.prototype.isSupported=function(t){return this.hooks.isSupported(t)},e.prototype.createConnection=function(t,n,r,i){return new Ir(this.hooks,t,n,r,i)},e}(),ft=jr,Nr=new ft({urls:Tr,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(O.getWebSocketAPI())},isSupported:function(){return Boolean(O.getWebSocketAPI())},getSocket:function(e){return O.createWebSocket(e)}}),je={urls:Pr,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Ne=z({getSocket:function(e){return O.HTTPFactory.createStreamingSocket(e)}},je),Ue=z({getSocket:function(e){return O.HTTPFactory.createPollingSocket(e)}},je),qe={isSupported:function(){return O.isXHRSupported()}},Ur=new ft(z({},Ne,qe)),qr=new ft(z({},Ue,qe)),Dr={ws:Nr,xhr_streaming:Ur,xhr_polling:qr},kt=Dr,Hr=new ft({file:"sockjs",urls:Er,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:d.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),De={isSupported:function(e){var t=O.isXDRSupported(e.useTLS);return t}},Br=new ft(z({},Ne,De)),Fr=new ft(z({},Ue,De));kt.xdr_streaming=Br,kt.xdr_polling=Fr,kt.sockjs=Hr;var Mr=kt,zr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xr=function(e){zr(t,e);function t(){var n=e.call(this)||this,r=n;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){r.emit("online")},!1),window.addEventListener("offline",function(){r.emit("offline")},!1)),n}return t.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},t}(it),Jr=new Xr,$r=function(){function e(t,n,r){this.manager=t,this.transport=n,this.minPingDelay=r.minPingDelay,this.maxPingDelay=r.maxPingDelay,this.pingDelay=void 0}return e.prototype.createConnection=function(t,n,r,i){var c=this;i=z({},i,{activityTimeout:this.pingDelay});var p=this.transport.createConnection(t,n,r,i),m=null,C=function(){p.unbind("open",C),p.bind("closed",b),m=H.now()},b=function(R){if(p.unbind("closed",b),R.code===1002||R.code===1003)c.manager.reportDeath();else if(!R.wasClean&&m){var B=H.now()-m;B<2*c.maxPingDelay&&(c.manager.reportDeath(),c.pingDelay=Math.max(B/2,c.minPingDelay))}};return p.bind("open",C),p},e.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},e}(),Wr=$r,He={decodeMessage:function(e){try{var t=JSON.parse(e.data),n=t.data;if(typeof n=="string")try{n=JSON.parse(t.data)}catch{}var r={event:t.event,channel:t.channel,data:n};return t.user_id&&(r.user_id=t.user_id),r}catch(i){throw{type:"MessageParseError",error:i,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){var t=He.decodeMessage(e);if(t.event==="pusher:connection_established"){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:t.data.activity_timeout*1e3}}else{if(t.event==="pusher:error")return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"}},getCloseAction:function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:e.code===4e3?"tls_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},getCloseError:function(e){return e.code!==1e3&&e.code!==1001?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}},at=He,Vr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qr=function(e){Vr(t,e);function t(n,r){var i=e.call(this)||this;return i.id=n,i.transport=r,i.activityTimeout=r.activityTimeout,i.bindListeners(),i}return t.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.prototype.send=function(n){return this.transport.send(n)},t.prototype.send_event=function(n,r,i){var c={event:n,data:r};return i&&(c.channel=i),I.debug("Event sent",c),this.send(at.encodeMessage(c))},t.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.prototype.close=function(){this.transport.close()},t.prototype.bindListeners=function(){var n=this,r={message:function(c){var p;try{p=at.decodeMessage(c)}catch(m){n.emit("error",{type:"MessageParseError",error:m,data:c.data})}if(p!==void 0){switch(I.debug("Event recd",p),p.event){case"pusher:error":n.emit("error",{type:"PusherError",data:p.data});break;case"pusher:ping":n.emit("ping");break;case"pusher:pong":n.emit("pong");break}n.emit("message",p)}},activity:function(){n.emit("activity")},error:function(c){n.emit("error",c)},closed:function(c){i(),c&&c.code&&n.handleCloseEvent(c),n.transport=null,n.emit("closed")}},i=function(){et(r,function(c,p){n.transport.unbind(p,c)})};et(r,function(c,p){n.transport.bind(p,c)})},t.prototype.handleCloseEvent=function(n){var r=at.getCloseAction(n),i=at.getCloseError(n);i&&this.emit("error",i),r&&this.emit(r,{action:r,error:i})},t}(it),Gr=Qr,Kr=function(){function e(t,n){this.transport=t,this.callback=n,this.bindListeners()}return e.prototype.close=function(){this.unbindListeners(),this.transport.close()},e.prototype.bindListeners=function(){var t=this;this.onMessage=function(n){t.unbindListeners();var r;try{r=at.processHandshake(n)}catch(i){t.finish("error",{error:i}),t.transport.close();return}r.action==="connected"?t.finish("connected",{connection:new Gr(r.id,t.transport),activityTimeout:r.activityTimeout}):(t.finish(r.action,{error:r.error}),t.transport.close())},this.onClosed=function(n){t.unbindListeners();var r=at.getCloseAction(n)||"backoff",i=at.getCloseError(n);t.finish(r,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},e.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.prototype.finish=function(t,n){this.callback(z({transport:this.transport,action:t},n))},e}(),Yr=Kr,Zr=function(){function e(t,n){this.timeline=t,this.options=n||{}}return e.prototype.send=function(t,n){this.timeline.isEmpty()||this.timeline.send(O.TimelineTransport.getAgent(this,t),n)},e}(),ti=Zr,ei=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ni=function(e){ei(t,e);function t(n,r){var i=e.call(this,function(c,p){I.debug("No callbacks on "+n+" for "+c)})||this;return i.name=n,i.pusher=r,i.subscribed=!1,i.subscriptionPending=!1,i.subscriptionCancelled=!1,i}return t.prototype.authorize=function(n,r){return r(null,{auth:""})},t.prototype.trigger=function(n,r){if(n.indexOf("client-")!==0)throw new E("Event '"+n+"' does not start with 'client-'");if(!this.subscribed){var i=k.buildLogSuffix("triggeringClientEvents");I.warn("Client event triggered before channel 'subscription_succeeded' event . "+i)}return this.pusher.send_event(n,r,this.name)},t.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},t.prototype.handleEvent=function(n){var r=n.event,i=n.data;if(r==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(n);else if(r==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(n);else if(r.indexOf("pusher_internal:")!==0){var c={};this.emit(r,i,c)}},t.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",n.data)},t.prototype.handleSubscriptionCountEvent=function(n){n.data.subscription_count&&(this.subscriptionCount=n.data.subscription_count),this.emit("pusher:subscription_count",n.data)},t.prototype.subscribe=function(){var n=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(r,i){r?(n.subscriptionPending=!1,I.error(r.toString()),n.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:r.message},r instanceof $?{status:r.status}:{}))):n.pusher.send_event("pusher:subscribe",{auth:i.auth,channel_data:i.channel_data,channel:n.name})}))},t.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},t.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},t.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},t}(it),Ft=ni,ri=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ii=function(e){ri(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.authorize=function(n,r){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:n},r)},t}(Ft),Mt=ii,oi=function(){function e(){this.reset()}return e.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},e.prototype.each=function(t){var n=this;et(this.members,function(r,i){t(n.get(i))})},e.prototype.setMyID=function(t){this.myID=t},e.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},e.prototype.addMember=function(t){return this.get(t.user_id)===null&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},e.prototype.removeMember=function(t){var n=this.get(t.user_id);return n&&(delete this.members[t.user_id],this.count--),n},e.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},e}(),si=oi,ai=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ui=function(e,t,n,r){return new(n||(n=Promise))(function(i,c){function p(b){try{C(r.next(b))}catch(R){c(R)}}function m(b){try{C(r.throw(b))}catch(R){c(R)}}function C(b){b.done?i(b.value):new n(function(R){R(b.value)}).then(p,m)}C((r=r.apply(e,t||[])).next())})},ci=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,i,c,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(b){return function(R){return C([b,R])}}function C(b){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(c=b[0]&2?i.return:b[0]?i.throw||((c=i.return)&&c.call(i),0):i.next)&&!(c=c.call(i,b[1])).done)return c;switch(i=0,c&&(b=[b[0]&2,c.value]),b[0]){case 0:case 1:c=b;break;case 4:return n.label++,{value:b[1],done:!1};case 5:n.label++,i=b[1],b=[0];continue;case 7:b=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(b[0]===6||b[0]===2)){n=0;continue}if(b[0]===3&&(!c||b[1]>c[0]&&b[1]<c[3])){n.label=b[1];break}if(b[0]===6&&n.label<c[1]){n.label=c[1],c=b;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(b);break}c[2]&&n.ops.pop(),n.trys.pop();continue}b=t.call(e,n)}catch(R){b=[6,R],i=0}finally{r=c=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},hi=function(e){ai(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.members=new si,i}return t.prototype.authorize=function(n,r){var i=this;e.prototype.authorize.call(this,n,function(c,p){return ui(i,void 0,void 0,function(){var m,C;return ci(this,function(b){switch(b.label){case 0:return c?[3,3]:(p=p,p.channel_data==null?[3,1]:(m=JSON.parse(p.channel_data),this.members.setMyID(m.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(b.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return C=k.buildLogSuffix("authorizationEndpoint"),I.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+C+", ")+"or the user should be signed in."),r("Invalid auth response"),[2];b.label=3;case 3:return r(c,p),[2]}})})})},t.prototype.handleEvent=function(n){var r=n.event;if(r.indexOf("pusher_internal:")===0)this.handleInternalEvent(n);else{var i=n.data,c={};n.user_id&&(c.user_id=n.user_id),this.emit(r,i,c)}},t.prototype.handleInternalEvent=function(n){var r=n.event,i=n.data;switch(r){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(n);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(n);break;case"pusher_internal:member_added":var c=this.members.addMember(i);this.emit("pusher:member_added",c);break;case"pusher_internal:member_removed":var p=this.members.removeMember(i);p&&this.emit("pusher:member_removed",p);break}},t.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(n.data),this.emit("pusher:subscription_succeeded",this.members))},t.prototype.disconnect=function(){this.members.reset(),e.prototype.disconnect.call(this)},t}(Mt),li=hi,fi=o(1),zt=o(0),pi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),di=function(e){pi(t,e);function t(n,r,i){var c=e.call(this,n,r)||this;return c.key=null,c.nacl=i,c}return t.prototype.authorize=function(n,r){var i=this;e.prototype.authorize.call(this,n,function(c,p){if(c){r(c,p);return}var m=p.shared_secret;if(!m){r(new Error("No shared_secret key in auth payload for encrypted channel: "+i.name),null);return}i.key=Object(zt.decode)(m),delete p.shared_secret,r(null,p)})},t.prototype.trigger=function(n,r){throw new Y("Client events are not currently supported for encrypted channels")},t.prototype.handleEvent=function(n){var r=n.event,i=n.data;if(r.indexOf("pusher_internal:")===0||r.indexOf("pusher:")===0){e.prototype.handleEvent.call(this,n);return}this.handleEncryptedEvent(r,i)},t.prototype.handleEncryptedEvent=function(n,r){var i=this;if(!this.key){I.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!r.ciphertext||!r.nonce){I.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+r);return}var c=Object(zt.decode)(r.ciphertext);if(c.length<this.nacl.secretbox.overheadLength){I.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+c.length);return}var p=Object(zt.decode)(r.nonce);if(p.length<this.nacl.secretbox.nonceLength){I.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+p.length);return}var m=this.nacl.secretbox.open(c,p,this.key);if(m===null){I.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(C,b){if(C){I.error("Failed to make a request to the authEndpoint: "+b+". Unable to fetch new key, so dropping encrypted event");return}if(m=i.nacl.secretbox.open(c,p,i.key),m===null){I.error("Failed to decrypt event with new key. Dropping encrypted event");return}i.emit(n,i.getDataToEmit(m))});return}this.emit(n,this.getDataToEmit(m))},t.prototype.getDataToEmit=function(n){var r=Object(fi.decode)(n);try{return JSON.parse(r)}catch{return r}},t}(Mt),vi=di,yi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gi=function(e){yi(t,e);function t(n,r){var i=e.call(this)||this;i.state="initialized",i.connection=null,i.key=n,i.options=r,i.timeline=i.options.timeline,i.usingTLS=i.options.useTLS,i.errorCallbacks=i.buildErrorCallbacks(),i.connectionCallbacks=i.buildConnectionCallbacks(i.errorCallbacks),i.handshakeCallbacks=i.buildHandshakeCallbacks(i.errorCallbacks);var c=O.getNetwork();return c.bind("online",function(){i.timeline.info({netinfo:"online"}),(i.state==="connecting"||i.state==="unavailable")&&i.retryIn(0)}),c.bind("offline",function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()}),i.updateStrategy(),i}return t.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},t.prototype.send=function(n){return this.connection?this.connection.send(n):!1},t.prototype.send_event=function(n,r,i){return this.connection?this.connection.send_event(n,r,i):!1},t.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.prototype.isUsingTLS=function(){return this.usingTLS},t.prototype.startConnecting=function(){var n=this,r=function(i,c){i?n.runner=n.strategy.connect(0,r):c.action==="error"?(n.emit("error",{type:"HandshakeError",error:c.error}),n.timeline.error({handshakeError:c.error})):(n.abortConnecting(),n.handshakeCallbacks[c.action](c))};this.runner=this.strategy.connect(0,r)},t.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var n=this.abandonConnection();n.close()}},t.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},t.prototype.retryIn=function(n){var r=this;this.timeline.info({action:"retry",delay:n}),n>0&&this.emit("connecting_in",Math.round(n/1e3)),this.retryTimer=new st(n||0,function(){r.disconnectInternally(),r.connect()})},t.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.prototype.setUnavailableTimer=function(){var n=this;this.unavailableTimer=new st(this.options.unavailableTimeout,function(){n.updateState("unavailable")})},t.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.prototype.sendActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new st(this.options.pongTimeout,function(){n.timeline.error({pong_timed_out:n.options.pongTimeout}),n.retryIn(0)})},t.prototype.resetActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new st(this.activityTimeout,function(){n.sendActivityCheck()}))},t.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.prototype.buildConnectionCallbacks=function(n){var r=this;return z({},n,{message:function(i){r.resetActivityCheck(),r.emit("message",i)},ping:function(){r.send_event("pusher:pong",{})},activity:function(){r.resetActivityCheck()},error:function(i){r.emit("error",i)},closed:function(){r.abandonConnection(),r.shouldRetry()&&r.retryIn(1e3)}})},t.prototype.buildHandshakeCallbacks=function(n){var r=this;return z({},n,{connected:function(i){r.activityTimeout=Math.min(r.options.activityTimeout,i.activityTimeout,i.connection.activityTimeout||1/0),r.clearUnavailableTimer(),r.setConnection(i.connection),r.socket_id=r.connection.id,r.updateState("connected",{socket_id:r.socket_id})}})},t.prototype.buildErrorCallbacks=function(){var n=this,r=function(i){return function(c){c.error&&n.emit("error",{type:"WebSocketError",error:c.error}),i(c)}};return{tls_only:r(function(){n.usingTLS=!0,n.updateStrategy(),n.retryIn(0)}),refused:r(function(){n.disconnect()}),backoff:r(function(){n.retryIn(1e3)}),retry:r(function(){n.retryIn(0)})}},t.prototype.setConnection=function(n){this.connection=n;for(var r in this.connectionCallbacks)this.connection.bind(r,this.connectionCallbacks[r]);this.resetActivityCheck()},t.prototype.abandonConnection=function(){if(!!this.connection){this.stopActivityCheck();for(var n in this.connectionCallbacks)this.connection.unbind(n,this.connectionCallbacks[n]);var r=this.connection;return this.connection=null,r}},t.prototype.updateState=function(n,r){var i=this.state;if(this.state=n,i!==n){var c=n;c==="connected"&&(c+=" with new socket ID "+r.socket_id),I.debug("State changed",i+" -> "+c),this.timeline.info({state:n,params:r}),this.emit("state_change",{previous:i,current:n}),this.emit(n,r)}},t.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},t}(it),mi=gi,_i=function(){function e(){this.channels={}}return e.prototype.add=function(t,n){return this.channels[t]||(this.channels[t]=wi(t,n)),this.channels[t]},e.prototype.all=function(){return ur(this.channels)},e.prototype.find=function(t){return this.channels[t]},e.prototype.remove=function(t){var n=this.channels[t];return delete this.channels[t],n},e.prototype.disconnect=function(){et(this.channels,function(t){t.disconnect()})},e}(),bi=_i;function wi(e,t){if(e.indexOf("private-encrypted-")===0){if(t.config.nacl)return nt.createEncryptedChannel(e,t,t.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",r=k.buildLogSuffix("encryptedChannelSupport");throw new Y(n+". "+r)}else{if(e.indexOf("private-")===0)return nt.createPrivateChannel(e,t);if(e.indexOf("presence-")===0)return nt.createPresenceChannel(e,t);if(e.indexOf("#")===0)throw new A('Cannot create a channel with name "'+e+'".');return nt.createChannel(e,t)}}var Si={createChannels:function(){return new bi},createConnectionManager:function(e,t){return new mi(e,t)},createChannel:function(e,t){return new Ft(e,t)},createPrivateChannel:function(e,t){return new Mt(e,t)},createPresenceChannel:function(e,t){return new li(e,t)},createEncryptedChannel:function(e,t,n){return new vi(e,t,n)},createTimelineSender:function(e,t){return new ti(e,t)},createHandshake:function(e,t){return new Yr(e,t)},createAssistantToTheTransportManager:function(e,t,n){return new Wr(e,t,n)}},nt=Si,Ci=function(){function e(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return e.prototype.getAssistant=function(t){return nt.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.prototype.isAlive=function(){return this.livesLeft>0},e.prototype.reportDeath=function(){this.livesLeft-=1},e}(),Be=Ci,ki=function(){function e(t,n){this.strategies=t,this.loop=Boolean(n.loop),this.failFast=Boolean(n.failFast),this.timeout=n.timeout,this.timeoutLimit=n.timeoutLimit}return e.prototype.isSupported=function(){return Ie(this.strategies,H.method("isSupported"))},e.prototype.connect=function(t,n){var r=this,i=this.strategies,c=0,p=this.timeout,m=null,C=function(b,R){R?n(null,R):(c=c+1,r.loop&&(c=c%i.length),c<i.length?(p&&(p=p*2,r.timeoutLimit&&(p=Math.min(p,r.timeoutLimit))),m=r.tryStrategy(i[c],t,{timeout:p,failFast:r.failFast},C)):n(!0))};return m=this.tryStrategy(i[c],t,{timeout:p,failFast:this.failFast},C),{abort:function(){m.abort()},forceMinPriority:function(b){t=b,m&&m.forceMinPriority(b)}}},e.prototype.tryStrategy=function(t,n,r,i){var c=null,p=null;return r.timeout>0&&(c=new st(r.timeout,function(){p.abort(),i(!0)})),p=t.connect(n,function(m,C){m&&c&&c.isRunning()&&!r.failFast||(c&&c.ensureAborted(),i(m,C))}),{abort:function(){c&&c.ensureAborted(),p.abort()},forceMinPriority:function(m){p.forceMinPriority(m)}}},e}(),ut=ki,Ti=function(){function e(t){this.strategies=t}return e.prototype.isSupported=function(){return Ie(this.strategies,H.method("isSupported"))},e.prototype.connect=function(t,n){return Pi(this.strategies,t,function(r,i){return function(c,p){if(i[r].error=c,c){Ei(i)&&n(!0);return}bt(i,function(m){m.forceMinPriority(p.transport.priority)}),n(null,p)}})},e}(),Xt=Ti;function Pi(e,t,n){var r=Re(e,function(i,c,p,m){return i.connect(t,n(c,m))});return{abort:function(){bt(r,Oi)},forceMinPriority:function(i){bt(r,function(c){c.forceMinPriority(i)})}}}function Ei(e){return lr(e,function(t){return Boolean(t.error)})}function Oi(e){!e.error&&!e.aborted&&(e.abort(),e.aborted=!0)}var xi=function(){function e(t,n,r){this.strategy=t,this.transports=n,this.ttl=r.ttl||1800*1e3,this.usingTLS=r.useTLS,this.timeline=r.timeline}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(t,n){var r=this.usingTLS,i=Ai(r),c=[this.strategy];if(i&&i.timestamp+this.ttl>=H.now()){var p=this.transports[i.transport];p&&(this.timeline.info({cached:!0,transport:i.transport,latency:i.latency}),c.push(new ut([p],{timeout:i.latency*2+1e3,failFast:!0})))}var m=H.now(),C=c.pop().connect(t,function b(R,B){R?(Fe(r),c.length>0?(m=H.now(),C=c.pop().connect(t,b)):n(R)):(Li(r,B.transport.name,H.now()-m),n(null,B))});return{abort:function(){C.abort()},forceMinPriority:function(b){t=b,C&&C.forceMinPriority(b)}}},e}(),Ri=xi;function Jt(e){return"pusherTransport"+(e?"TLS":"NonTLS")}function Ai(e){var t=O.getLocalStorage();if(t)try{var n=t[Jt(e)];if(n)return JSON.parse(n)}catch{Fe(e)}return null}function Li(e,t,n){var r=O.getLocalStorage();if(r)try{r[Jt(e)]=Ct({timestamp:H.now(),transport:t,latency:n})}catch{}}function Fe(e){var t=O.getLocalStorage();if(t)try{delete t[Jt(e)]}catch{}}var Ii=function(){function e(t,n){var r=n.delay;this.strategy=t,this.options={delay:r}}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(t,n){var r=this.strategy,i,c=new st(this.options.delay,function(){i=r.connect(t,n)});return{abort:function(){c.ensureAborted(),i&&i.abort()},forceMinPriority:function(p){t=p,i&&i.forceMinPriority(p)}}},e}(),Tt=Ii,ji=function(){function e(t,n,r){this.test=t,this.trueBranch=n,this.falseBranch=r}return e.prototype.isSupported=function(){var t=this.test()?this.trueBranch:this.falseBranch;return t.isSupported()},e.prototype.connect=function(t,n){var r=this.test()?this.trueBranch:this.falseBranch;return r.connect(t,n)},e}(),wt=ji,Ni=function(){function e(t){this.strategy=t}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(t,n){var r=this.strategy.connect(t,function(i,c){c&&r.abort(),n(i,c)});return r},e}(),Ui=Ni;function St(e){return function(){return e.isSupported()}}var qi=function(e,t,n){var r={};function i(tn,zo,Xo,Jo,$o){var en=n(e,tn,zo,Xo,Jo,$o);return r[tn]=en,en}var c=Object.assign({},t,{hostNonTLS:e.wsHost+":"+e.wsPort,hostTLS:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}),p=Object.assign({},c,{useTLS:!0}),m=Object.assign({},t,{hostNonTLS:e.httpHost+":"+e.httpPort,hostTLS:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}),C={loop:!0,timeout:15e3,timeoutLimit:6e4},b=new Be({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),R=new Be({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),B=i("ws","ws",3,c,b),tt=i("wss","ws",3,p,b),Do=i("sockjs","sockjs",1,m),Ve=i("xhr_streaming","xhr_streaming",1,m,R),Ho=i("xdr_streaming","xdr_streaming",1,m,R),Qe=i("xhr_polling","xhr_polling",1,m),Bo=i("xdr_polling","xdr_polling",1,m),Ge=new ut([B],C),Fo=new ut([tt],C),Mo=new ut([Do],C),Ke=new ut([new wt(St(Ve),Ve,Ho)],C),Ye=new ut([new wt(St(Qe),Qe,Bo)],C),Ze=new ut([new wt(St(Ke),new Xt([Ke,new Tt(Ye,{delay:4e3})]),Ye)],C),Qt=new wt(St(Ze),Ze,Mo),Gt;return t.useTLS?Gt=new Xt([Ge,new Tt(Qt,{delay:2e3})]):Gt=new Xt([Ge,new Tt(Fo,{delay:2e3}),new Tt(Qt,{delay:5e3})]),new Ri(new Ui(new wt(St(B),Gt,Qt)),r,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},Di=qi,Hi=function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.useTLS?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),d.load(e.hooks.file,{useTLS:e.options.useTLS},function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))})):e.onClose()},Bi={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new j),e.close()},t.onerror=function(n){e.emit("error",n),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}},Fi=Bi,Mi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zi=256*1024,Xi=function(e){Mi(t,e);function t(n,r,i){var c=e.call(this)||this;return c.hooks=n,c.method=r,c.url=i,c}return t.prototype.start=function(n){var r=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){r.close()},O.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(n)},t.prototype.close=function(){this.unloader&&(O.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},t.prototype.onChunk=function(n,r){for(;;){var i=this.advanceBuffer(r);if(i)this.emit("chunk",{status:n,data:i});else break}this.isBufferTooLong(r)&&this.emit("buffer_too_long")},t.prototype.advanceBuffer=function(n){var r=n.slice(this.position),i=r.indexOf(`
`);return i!==-1?(this.position+=i+1,r.slice(0,i)):null},t.prototype.isBufferTooLong=function(n){return this.position===n.length&&n.length>zi},t}(it),Ji=Xi,$t;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"})($t||($t={}));var ct=$t,$i=1,Wi=function(){function e(t,n){this.hooks=t,this.session=ze(1e3)+"/"+Ki(8),this.location=Vi(n),this.readyState=ct.CONNECTING,this.openStream()}return e.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},e.prototype.ping=function(){this.hooks.sendHeartbeat(this)},e.prototype.close=function(t,n){this.onClose(t,n,!0)},e.prototype.sendRaw=function(t){if(this.readyState===ct.OPEN)try{return O.createSocketRequest("POST",Me(Qi(this.location,this.session))).start(t),!0}catch{return!1}else return!1},e.prototype.reconnect=function(){this.closeStream(),this.openStream()},e.prototype.onClose=function(t,n,r){this.closeStream(),this.readyState=ct.CLOSED,this.onclose&&this.onclose({code:t,reason:n,wasClean:r})},e.prototype.onChunk=function(t){if(t.status===200){this.readyState===ct.OPEN&&this.onActivity();var n,r=t.data.slice(0,1);switch(r){case"o":n=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(n);break;case"a":n=JSON.parse(t.data.slice(1)||"[]");for(var i=0;i<n.length;i++)this.onEvent(n[i]);break;case"m":n=JSON.parse(t.data.slice(1)||"null"),this.onEvent(n);break;case"h":this.hooks.onHeartbeat(this);break;case"c":n=JSON.parse(t.data.slice(1)||"[]"),this.onClose(n[0],n[1],!0);break}}},e.prototype.onOpen=function(t){this.readyState===ct.CONNECTING?(t&&t.hostname&&(this.location.base=Gi(this.location.base,t.hostname)),this.readyState=ct.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},e.prototype.onEvent=function(t){this.readyState===ct.OPEN&&this.onmessage&&this.onmessage({data:t})},e.prototype.onActivity=function(){this.onactivity&&this.onactivity()},e.prototype.onError=function(t){this.onerror&&this.onerror(t)},e.prototype.openStream=function(){var t=this;this.stream=O.createSocketRequest("POST",Me(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(n){t.onChunk(n)}),this.stream.bind("finished",function(n){t.hooks.onFinished(t,n)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(n){H.defer(function(){t.onError(n),t.onClose(1006,"Could not start streaming",!1)})}},e.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},e}();function Vi(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}function Qi(e,t){return e.base+"/"+t+"/xhr_send"}function Me(e){var t=e.indexOf("?")===-1?"?":"&";return e+t+"t="+ +new Date+"&n="+$i++}function Gi(e,t){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e);return n[1]+t+n[3]}function ze(e){return Math.floor(Math.random()*e)}function Ki(e){for(var t=[],n=0;n<e;n++)t.push(ze(32).toString(32));return t.join("")}var Yi=Wi,Zi={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}},to=Zi,eo={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){t===200?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}},no=eo,ro={getRequest:function(e){var t=O.getXHRAPI(),n=new t;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&e.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&e.onChunk(n.status,n.responseText),e.emit("finished",n.status),e.close();break}},n},abortRequest:function(e){e.onreadystatechange=null,e.abort()}},oo=ro,so={createStreamingSocket:function(e){return this.createSocket(to,e)},createPollingSocket:function(e){return this.createSocket(no,e)},createSocket:function(e,t){return new Yi(e,t)},createXHR:function(e,t){return this.createRequest(oo,e,t)},createRequest:function(e,t,n){return new Ji(e,t,n)}},Xe=so;Xe.createXDR=function(e,t){return this.createRequest(Fi,e,t)};var ao=Xe,uo={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:f,DependenciesReceivers:T,getDefaultStrategy:Di,Transports:Mr,transportConnectionInitializer:Hi,HTTPFactory:ao,TimelineTransport:kr,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(e){var t=this;window.Pusher=e;var n=function(){t.onDocumentBody(e.ready)};window.JSON?n():d.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:W,jsonp:gr}},onDocumentBody:function(e){var t=this;document.body?e():setTimeout(function(){t.onDocumentBody(e)},0)},createJSONPRequest:function(e,t){return new wr(e,t)},createScriptRequest:function(e){return new _r(e)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var e=this.getXHRAPI();return new e},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return Jr},createWebSocket:function(e){var t=this.getWebSocketAPI();return new t(e)},createSocketRequest:function(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(t.indexOf("https:")===0))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var e=this.getXHRAPI();return Boolean(e)&&new e().withCredentials!==void 0},isXDRSupported:function(e){var t=e?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===t},addUnloadListener:function(e){window.addEventListener!==void 0?window.addEventListener("unload",e,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",e)},removeUnloadListener:function(e){window.addEventListener!==void 0?window.removeEventListener("unload",e,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",e)}},O=uo,Wt;(function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"})(Wt||(Wt={}));var Pt=Wt,co=function(){function e(t,n,r){this.key=t,this.session=n,this.events=[],this.options=r||{},this.sent=0,this.uniqueID=0}return e.prototype.log=function(t,n){t<=this.options.level&&(this.events.push(z({},n,{timestamp:H.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.prototype.error=function(t){this.log(Pt.ERROR,t)},e.prototype.info=function(t){this.log(Pt.INFO,t)},e.prototype.debug=function(t){this.log(Pt.DEBUG,t)},e.prototype.isEmpty=function(){return this.events.length===0},e.prototype.send=function(t,n){var r=this,i=z({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(i,function(c,p){c||r.sent++,n&&n(c,p)}),!0},e.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},e}(),ho=co,lo=function(){function e(t,n,r,i){this.name=t,this.priority=n,this.transport=r,this.options=i||{}}return e.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},e.prototype.connect=function(t,n){var r=this;if(this.isSupported()){if(this.priority<t)return Je(new w,n)}else return Je(new M,n);var i=!1,c=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),p=null,m=function(){c.unbind("initialized",m),c.connect()},C=function(){p=nt.createHandshake(c,function(tt){i=!0,B(),n(null,tt)})},b=function(tt){B(),n(tt)},R=function(){B();var tt;tt=Ct(c),n(new J(tt))},B=function(){c.unbind("initialized",m),c.unbind("open",C),c.unbind("error",b),c.unbind("closed",R)};return c.bind("initialized",m),c.bind("open",C),c.bind("error",b),c.bind("closed",R),c.initialize(),{abort:function(){i||(B(),p?p.close():c.close())},forceMinPriority:function(tt){i||r.priority<tt&&(p?p.close():c.close())}}},e}(),fo=lo;function Je(e,t){return H.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}var po=O.Transports,vo=function(e,t,n,r,i,c){var p=po[n];if(!p)throw new F(n);var m=(!e.enabledTransports||Oe(e.enabledTransports,t)!==-1)&&(!e.disabledTransports||Oe(e.disabledTransports,t)===-1),C;return m?(i=Object.assign({ignoreNullOrigin:e.ignoreNullOrigin},i),C=new fo(t,r,c?c.getAssistant(p):p,i)):C=yo,C},yo={isSupported:function(){return!1},connect:function(e,t){var n=H.defer(function(){t(new M)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},go=function(e,t){var n="socket_id="+encodeURIComponent(e.socketId);for(var r in t.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t.params[r]);return n},mo=function(e){if(typeof O.getAuthorizers()[e.transport]>"u")throw"'"+e.transport+"' is not a recognized auth transport";return function(t,n){var r=go(t,e);O.getAuthorizers()[e.transport](O,r,e,g.UserAuthentication,n)}},_o=mo,bo=function(e,t){var n="socket_id="+encodeURIComponent(e.socketId);n+="&channel_name="+encodeURIComponent(e.channelName);for(var r in t.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t.params[r]);return n},wo=function(e){if(typeof O.getAuthorizers()[e.transport]>"u")throw"'"+e.transport+"' is not a recognized auth transport";return function(t,n){var r=bo(t,e);O.getAuthorizers()[e.transport](O,r,e,g.ChannelAuthorization,n)}},So=wo,Co=function(e,t,n){var r={authTransport:t.transport,authEndpoint:t.endpoint,auth:{params:t.params,headers:t.headers}};return function(i,c){var p=e.channel(i.channelName),m=n(p,r);m.authorize(i.socketId,c)}},Et=function(){return Et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Et.apply(this,arguments)};function ko(e,t){var n={activityTimeout:e.activityTimeout||v.activityTimeout,cluster:e.cluster||v.cluster,httpPath:e.httpPath||v.httpPath,httpPort:e.httpPort||v.httpPort,httpsPort:e.httpsPort||v.httpsPort,pongTimeout:e.pongTimeout||v.pongTimeout,statsHost:e.statsHost||v.stats_host,unavailableTimeout:e.unavailableTimeout||v.unavailableTimeout,wsPath:e.wsPath||v.wsPath,wsPort:e.wsPort||v.wsPort,wssPort:e.wssPort||v.wssPort,enableStats:Oo(e),httpHost:To(e),useTLS:Eo(e),wsHost:Po(e),userAuthenticator:xo(e),channelAuthorizer:Ao(e,t)};return"disabledTransports"in e&&(n.disabledTransports=e.disabledTransports),"enabledTransports"in e&&(n.enabledTransports=e.enabledTransports),"ignoreNullOrigin"in e&&(n.ignoreNullOrigin=e.ignoreNullOrigin),"timelineParams"in e&&(n.timelineParams=e.timelineParams),"nacl"in e&&(n.nacl=e.nacl),n}function To(e){return e.httpHost?e.httpHost:e.cluster?"sockjs-"+e.cluster+".pusher.com":v.httpHost}function Po(e){return e.wsHost?e.wsHost:e.cluster?$e(e.cluster):$e(v.cluster)}function $e(e){return"ws-"+e+".pusher.com"}function Eo(e){return O.getProtocol()==="https:"?!0:e.forceTLS!==!1}function Oo(e){return"enableStats"in e?e.enableStats:"disableStats"in e?!e.disableStats:!1}function xo(e){var t=Et({},v.userAuthentication,e.userAuthentication);return"customHandler"in t&&t.customHandler!=null?t.customHandler:_o(t)}function Ro(e,t){var n;return"channelAuthorization"in e?n=Et({},v.channelAuthorization,e.channelAuthorization):(n={transport:e.authTransport||v.authTransport,endpoint:e.authEndpoint||v.authEndpoint},"auth"in e&&("params"in e.auth&&(n.params=e.auth.params),"headers"in e.auth&&(n.headers=e.auth.headers)),"authorizer"in e&&(n.customHandler=Co(t,n,e.authorizer))),n}function Ao(e,t){var n=Ro(e,t);return"customHandler"in n&&n.customHandler!=null?n.customHandler:So(n)}function Lo(){var e,t,n=new Promise(function(r,i){e=r,t=i});return{promise:n,resolve:e,reject:t}}var Io=Lo,jo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),No=function(e){jo(t,e);function t(n){var r=e.call(this,function(i,c){I.debug("No callbacks on user for "+i)})||this;return r.signin_requested=!1,r.user_data=null,r.serverToUserChannel=null,r.signinDonePromise=null,r._signinDoneResolve=null,r._onAuthorize=function(i,c){if(i){I.warn("Error during signin: "+i),r._cleanup();return}r.pusher.send_event("pusher:signin",{auth:c.auth,user_data:c.user_data})},r.pusher=n,r.pusher.connection.bind("state_change",function(i){var c=i.previous,p=i.current;c!=="connected"&&p==="connected"&&r._signin(),c==="connected"&&p!=="connected"&&(r._cleanup(),r._newSigninPromiseIfNeeded())}),r.pusher.connection.bind("message",function(i){var c=i.event;c==="pusher:signin_success"&&r._onSigninSuccess(i.data),r.serverToUserChannel&&r.serverToUserChannel.name===i.channel&&r.serverToUserChannel.handleEvent(i)}),r}return t.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},t.prototype._signin=function(){!this.signin_requested||(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},t.prototype._onSigninSuccess=function(n){try{this.user_data=JSON.parse(n.user_data)}catch{I.error("Failed parsing user data after signin: "+n.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){I.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},t.prototype._subscribeChannels=function(){var n=this,r=function(i){i.subscriptionPending&&i.subscriptionCancelled?i.reinstateSubscription():!i.subscriptionPending&&n.pusher.connection.state==="connected"&&i.subscribe()};this.serverToUserChannel=new Ft("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(i,c){i.indexOf("pusher_internal:")===0||i.indexOf("pusher:")===0||n.emit(i,c)}),r(this.serverToUserChannel)},t.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},t.prototype._newSigninPromiseIfNeeded=function(){if(!!this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var n=Io(),r=n.promise,i=n.resolve;r.done=!1;var c=function(){r.done=!0};r.then(c).catch(c),this.signinDonePromise=r,this._signinDoneResolve=i}},t}(it),Uo=No,We=function(){function e(t,n){var r=this;if(qo(t),n=n||{},!n.cluster&&!(n.wsHost||n.httpHost)){var i=k.buildLogSuffix("javascriptQuickStart");I.warn("You should always specify a cluster when connecting. "+i)}"disableStats"in n&&I.warn("The disableStats option is deprecated in favor of enableStats"),this.key=t,this.config=ko(n,this),this.channels=nt.createChannels(),this.global_emitter=new it,this.sessionID=Math.floor(Math.random()*1e9),this.timeline=new ho(this.key,this.sessionID,{cluster:this.config.cluster,features:e.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Pt.INFO,version:v.VERSION}),this.config.enableStats&&(this.timelineSender=nt.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+O.TimelineTransport.name}));var c=function(p){return O.getDefaultStrategy(r.config,p,vo)};this.connection=nt.createConnectionManager(this.key,{getStrategy:c,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",function(){r.subscribeAll(),r.timelineSender&&r.timelineSender.send(r.connection.isUsingTLS())}),this.connection.bind("message",function(p){var m=p.event,C=m.indexOf("pusher_internal:")===0;if(p.channel){var b=r.channel(p.channel);b&&b.handleEvent(p)}C||r.global_emitter.emit(p.event,p.data)}),this.connection.bind("connecting",function(){r.channels.disconnect()}),this.connection.bind("disconnected",function(){r.channels.disconnect()}),this.connection.bind("error",function(p){I.warn(p)}),e.instances.push(this),this.timeline.info({instances:e.instances.length}),this.user=new Uo(this),e.isReady&&this.connect()}return e.ready=function(){e.isReady=!0;for(var t=0,n=e.instances.length;t<n;t++)e.instances[t].connect()},e.getClientFeatures=function(){return xe(Le({ws:O.Transports.ws},function(t){return t.isSupported({})}))},e.prototype.channel=function(t){return this.channels.find(t)},e.prototype.allChannels=function(){return this.channels.all()},e.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),n=this.timelineSender;this.timelineSenderTimer=new or(6e4,function(){n.send(t)})}},e.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},e.prototype.bind=function(t,n,r){return this.global_emitter.bind(t,n,r),this},e.prototype.unbind=function(t,n,r){return this.global_emitter.unbind(t,n,r),this},e.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},e.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},e.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},e.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},e.prototype.subscribe=function(t){var n=this.channels.add(t,this);return n.subscriptionPending&&n.subscriptionCancelled?n.reinstateSubscription():!n.subscriptionPending&&this.connection.state==="connected"&&n.subscribe(),n},e.prototype.unsubscribe=function(t){var n=this.channels.find(t);n&&n.subscriptionPending?n.cancelSubscription():(n=this.channels.remove(t),n&&n.subscribed&&n.unsubscribe())},e.prototype.send_event=function(t,n,r){return this.connection.send_event(t,n,r)},e.prototype.shouldUseTLS=function(){return this.config.useTLS},e.prototype.signin=function(){this.user.signin()},e.instances=[],e.isReady=!1,e.logToConsole=!1,e.Runtime=O,e.ScriptReceivers=O.ScriptReceivers,e.DependenciesReceivers=O.DependenciesReceivers,e.auth_callbacks=O.auth_callbacks,e}(),Vt=h.default=We;function qo(e){if(e==null)throw"You must pass your app key when you instantiate Pusher."}O.setup(We)}])})})(Yn);const fa=Rn(Yn.exports);var En,On,xn;if(!window.__cogni.__extra||!window.__cogni.__extra.initializeEcho){window.Pusher=fa;const u=((En=window.VITE_PUSHER_SCHEME)!=null?En:"https")==="https";window.Echo=new la({broadcaster:"pusher",host:window.VITE_PUSHER_HOST||window.location.hostname,key:window.VITE_PUSHER_APP_KEY,authorizer:a=>({authorize:(s,h)=>{sanctum("/api/broadcasting/auth",{method:"post",baseURL:"/",data:{socket_id:s,channel_name:a.name}}).then(o=>{h(null,o.data)}).catch(o=>{h(!0,o)})}}),wsHost:window.VITE_PUSHER_HOST||window.location.hostname,wsPort:(On=window.VITE_PUSHER_PORT)!=null?On:80,wssPort:(xn=window.VITE_PUSHER_PORT)!=null?xn:443,forceTLS:u,enabledTransports:u?["ws","wss"]:["ws"],disableStats:!0})}
